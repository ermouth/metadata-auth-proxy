# Переменные окружения

### COUCHLOCAL
`String` - путь к основному серверу couchdb

### COUCHDOC
`String` - путь к серверу couchdb базы doc для внутренних сервисов. Не путать с путями к базам абонентов и отделов, которые берутся из справочника `servers`

### COUCHAUTH
`String` - путь к серверу авторизации, если он отличается от COUCHLOCAL

### ZONE
`String` - номер основной зоны (актуально при пустом списке `ABONENTS` или взведенном `SINGLE_DB`)

### DBUSER
`String` - логин подключения к основному серверу couchdb

### DBPWD
`String` - пароль подключения к основному серверу couchdb

### COUCHSECRET
`String` - секрет, для подмешивания в proxy-авторизацию couchdb

### PORT
`Number` - прот основного потока `auth-proxy`

### RENDER_PATH
`String` - путь к папке для рендера статики

### START_COMMON
`Boolean` - если взведён, то основной поток `auth-proxy`, запустит дочерний процесс `common`. Использовать в linux не рекомендуется

### RESTRICT_ARCHIVE
`Boolean` - если взведён, то авторизоваться смогут только пользователи, которым назначена роль `ПросмотрАрхивов`

### RAMURL
`String` - `auth-proxy` использует это значение для запросов к `common`, а `common` вычисляет из него порт, на котором стартовать (в общем случае, `common` и `auth-proxy` могут крутиться на разных компьютерах)

### EVE_URL
`String` - используется безбумажкой и монитором сканирования. Если не задан, монитор будет недоступен

### ABONENTS
`String` as `JSON Array` - массив номеров зон, данные которых будут прочитаны из couchdb и по которым `mdm` сформирует образы данных

### BRANCHES
`String` as `JSON Array` - массив суффиксов отделов абонентов, для которых `mdm` сформирует образы данных (если пусто - для всех)

### SINGLE_DB
`Boolean` - если взведён, система читает данные из базы `couch_local`, если сброшен - из баз задействованных `Абонентами`

### NOMDM
`Boolean` - указывает потоку `common`, не фильтровать данные при подготовке образа - складывать в файлы всё, что прочитали из couchdb вне зависимости от признака `no_mdm` в `Абонентах`

### DISABLEMDM
`Boolean` - указывает потоку `common`, не формировать файлы образов ram, когда от `common` требуется только обслуживание общих данных или расчет дат и не требуется поток `mdm`

### NOBACKGROUND
`Boolean` - указывает потоку `common`, не слушать события couchdb и формировать образ данных только на старте

### SKIP_PRICES
`Boolean` - если взведён, цены в память, не загружаются. Например, для рендера картинок или безбумажки, где цены не нужны

### BROWSER_ONLY
`Boolean` - указывает основному потоку, не принимать запросы c `user-agent` `1С` и `Couchdb`

### DEFER
`Number` - задержка (периодичность) пересчета `mdm` в миллисекундах

### EVEURL
`String` - путь к couchdb событий безбумажки (там живёт лог сканирований и извлекается статистика)

### UPP
(UPPURL, UPPUSER, UPPPWD, UPPORDER, UPPCBSERVER, UPPCBPORT) - временные параметры на период расчета дат производства в УПП

### WORKERS_COUNT
Number - число потоков `auth-proxy`

### RELOAD_AT
Number - время перезапуска процессов

### WHITE_IPS
`String` as `JSON Array` - массив пар ip -> Код пользователя. Например,
[["217.197.251.195", "Иванов"], ["46.38.49.66", "Сидоров"], ["10.20.*", "Петров"]]

